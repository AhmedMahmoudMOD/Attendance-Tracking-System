@model List<ITIProgram>
@{
    ViewData["Title"] = "Index";
}

<a asp-action="Create" asp-controller="Program" class="btn btn-outline-primary">Create Program</a>
<h1>All Programs</h1>
<table class="table table-bordered">
    <thead>
        <th>Name</th>
        <th>Duration</th>
        <th>IsDeleted</th>
        <th>Show Tracks</th>
        <th> Update</th>
        <th>Delete</th>
      
    </thead>
    <tbody>
        @foreach(var program in Model)
        {
            <tr>
                <td>@program.Name</td>
                <td>@program.Duration</td>
                <td>@program.IsDeleted</td>
                <td>
                    @if (program.Tracks.Count > 1)
                    {
                        <ul>
                            @foreach (var track in program.Tracks)
                            {
                                <li>@track.Name</li>
                            }
                        </ul>
                    }
                    else
                    {
                        @program.Tracks.FirstOrDefault()?.Name
                    }
                </td>
                <td><a asp-action="Update" asp-controller="Program" asp-route-id="@program.Id">Edit program</a></td>
                <td><a asp-action="Delete" asp-controller="Program" asp-route-id="@program.Id"
                       onclick="return confirm('Are you sure you want to delete this ?')">Delete program</a></td>
           </tr>
        }
        

    </tbody>


</table>


